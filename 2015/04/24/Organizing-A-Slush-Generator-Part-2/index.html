<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Organizing A Slush Generator Part 2 : Testing And creating Default Answers | Simian&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Part of the reason for having an improved project organization is to define better units of work for testing. In the last section, we arranged our files in such a way that we wanted to make it easier">
<meta property="og:type" content="article">
<meta property="og:title" content="Organizing A Slush Generator Part 2 : Testing And creating Default Answers">
<meta property="og:url" content="http://simiansblog.com/2015/04/24/Organizing-A-Slush-Generator-Part-2/index.html">
<meta property="og:site_name" content="Simian's Blog">
<meta property="og:description" content="Part of the reason for having an improved project organization is to define better units of work for testing. In the last section, we arranged our files in such a way that we wanted to make it easier">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Organizing A Slush Generator Part 2 : Testing And creating Default Answers">
<meta name="twitter:description" content="Part of the reason for having an improved project organization is to define better units of work for testing. In the last section, we arranged our files in such a way that we wanted to make it easier">
  
    <link rel="alternative" href="/atom.xml" title="Simian&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Simian&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Code, Music, Interactive Media, Community</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://simiansblog.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Organizing-A-Slush-Generator-Part-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/24/Organizing-A-Slush-Generator-Part-2/" class="article-date">
  <time datetime="2015-04-24T05:10:42.000Z" itemprop="datePublished">2015-04-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Organizing A Slush Generator Part 2 : Testing And creating Default Answers
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Part of the reason for having an improved project organization is to define better units of work for testing. In the last section, we arranged our files in such a way that we wanted to make it easier to have each file do a singluar task each.</p>
<p>Because We have 4 totally separate files with separate jobs-each test file will also look pretty different.</p>
<a id="more"></a>
<h2 id="Default_answers">Default answers</h2><p>Probably the most challenging file to test is the default answers file. This is a necessary file, but it involves using a lot of node globals and private variables. This seems to make it untestable at a glance, but its actually possible with a module called <code>rewire</code>. Rewire is a drop in replacement for require, that for all practical purposes acts fully identical - except you have a way to override private variables in the module. Normally, this is a no-no, but not in this case. We need to mock process, and this is how it can be done.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rewire = <span class="built_in">require</span>(<span class="string">'rewire'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> defaultTransforms = rewire(<span class="string">'./../../slush/default/answers'</span>);</span><br></pre></td></tr></table></figure>
<p>So we use <code>rewire</code>, not <code>require</code>.</p>
<p>One of the things you might need to do for your default answers is get information about things like, the name of the file you’re starting the project in, or information out of the user’s gitconfig. We need to be able to branch, depending on whether or not the user is using windows or not, this affects these sort of things.</p>
<p>Here is mocking both the win32 defaults and nonwin32 defaults, with chai’s expect for assertion.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">'default-answers'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">mockCwd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'/example/of/something'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> mockEnv = &#123;</span><br><span class="line">    USERNAME: <span class="string">'Jesse_Harlin'</span>,</span><br><span class="line">    HOME: <span class="string">'/Users/YOURMOM'</span>,</span><br><span class="line">    USERPROFILE: <span class="string">'C:\Users\Jesse_Harlin'</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  describe(<span class="string">'process is win 32'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    defaultTransforms.__set__(&#123;</span><br><span class="line">      process: &#123;</span><br><span class="line">        env: mockEnv,</span><br><span class="line">        cwd: mockCwd,</span><br><span class="line">        platform: <span class="string">'win32'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> defaults = defaultTransforms(),</span><br><span class="line">      out = &#123;</span><br><span class="line">        appName: <span class="string">'something'</span>,</span><br><span class="line">        userName: <span class="string">'Jesse_Harlin'</span>,</span><br><span class="line">        authorName: <span class="string">''</span>,</span><br><span class="line">        authorEmail: <span class="string">''</span></span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">    expect(defaults)</span><br><span class="line">      .to</span><br><span class="line">      .eql(out);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  describe(<span class="string">'process is other than win 32'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    defaultTransforms.__set__(&#123;</span><br><span class="line">      process: &#123;</span><br><span class="line">        env: mockEnv,</span><br><span class="line">        cwd: mockCwd,</span><br><span class="line">        platform: <span class="string">'notWin32'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> defaults = defaultTransforms(),</span><br><span class="line">      out = &#123;</span><br><span class="line">        appName: <span class="string">'something'</span>,</span><br><span class="line">        userName: <span class="string">'YOURMOM'</span>,</span><br><span class="line">        authorName: <span class="string">''</span>,</span><br><span class="line">        authorEmail: <span class="string">''</span></span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">    expect(defaults)</span><br><span class="line">      .to</span><br><span class="line">      .eql(out);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>We are essentially testing the first major branch of the default answers. In order to do this, we need to basically give differnt data for the default answers, by mocking it. We need to test the platform, in this case by mocking the <code>process</code> module. Now we can branch for when its windows…or not.</p>
<p>In our answers, we can now write code about this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (process.platform === <span class="string">'win32'</span>) &#123;</span><br><span class="line">  homeDir = process.env.USERPROFILE;</span><br><span class="line">  osUserName = process.env.USERNAME || path.basename(homeDir).toLowerCase();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  homeDir = process.env.HOME || process.env.HOMEPATH;</span><br><span class="line">  osUserName = homeDir &amp;&amp; homeDir.split(<span class="string">'/'</span>).pop() || <span class="string">'root'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  Now, whenever we want to get information based on environment, we have a way to check and mock them.</p>
<p>  Another thing we will problably want to handle is getting information from the user’s github <code>.gitconfig</code> file. This is also tricky. A first thought would be to use <code>fs</code> and some <code>fs</code> mocking utilities to simulate reading the file. One way that works well is to make a fixure in the test directory that simulates a User directory, and the <code>.gitconfig</code>‘s relative location. Fixures are a great way to get things done without adding way too much complexity.</p>
<p>  If you haven’t ever opened one up, a <code>.gitconfig</code> is a ini file, that looks sort of like this:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[user]</span><br><span class="line">  name = fart Blaster</span><br><span class="line">  email = turdburgular@gmail.com</span><br></pre></td></tr></table></figure>
<p>When we actually make the module, we’ll use <code>iniparser</code>, a simple module to read this and make sense of it… if it actually exists. That’s the thing we need to test. The other branch in our, soon-to-be-default answers file is whether or not there is even a <code>.gitconfig</code>.</p>
<p>You can make a fixture in your test firectory like this</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+-- fixtures</span><br><span class="line">   +-- Jesse_Harlin</span><br><span class="line">      +-- .gitconfig</span><br><span class="line">   +-- Not_Jesse_Harlin</span><br><span class="line">      +-- .gitkeep</span><br></pre></td></tr></table></figure>
<p>I used my name, because.. no reason. Its just mock data. You can put the mock data in the Ini file. Now, in our test, there will be a <code>.gitconfig</code> file that gets loaded, assuming we mock the same userName in our fixture.</p>
<p>Lets see what then, the expecations for this might be. If there is a gitconfig in our User Directory, get the username and email. Otherwise..dont!</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">'.gitconfig is present in the user directory'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">mockCwd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'/example/of/something'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> mockEnv = &#123;</span><br><span class="line">    USERNAME: <span class="string">'Jesse_Harlin'</span>,</span><br><span class="line">    HOME: <span class="string">'test/default/fixtures/Jesse_Harlin'</span>,</span><br><span class="line">    USERPROFILE: <span class="string">'test/default/fixtures/Jesse_Harlin'</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  defaultTransforms.__set__(&#123;</span><br><span class="line">    process: &#123;</span><br><span class="line">      env: mockEnv,</span><br><span class="line">      cwd: mockCwd,</span><br><span class="line">      platform: <span class="string">'win32'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> defaults = defaultTransforms(),</span><br><span class="line">    out = &#123;</span><br><span class="line">      appName: <span class="string">'something'</span>,</span><br><span class="line">      userName: <span class="string">'Jesse_Harlin'</span>,</span><br><span class="line">      authorName: <span class="string">'fart Blaster'</span>,</span><br><span class="line">      authorEmail: <span class="string">'turdburgular@gmail.com'</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  expect(defaults)</span><br><span class="line">    .to</span><br><span class="line">    .eql(out);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">describe(<span class="string">'.gitconfig is not present in the user directory'</span>, <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">mockCwd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'/example/of/something'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> mockEnv = &#123;</span><br><span class="line">    USERNAME: <span class="string">'Jesse_Harlin'</span>,</span><br><span class="line">    HOME: <span class="string">'test/default/fixtures/Not_Jesse_Harlin'</span>,</span><br><span class="line">    USERPROFILE: <span class="string">'test/default/fixtures/Not_Jesse_Harlin'</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  defaultTransforms.__set__(&#123;</span><br><span class="line">    process: &#123;</span><br><span class="line">      env: mockEnv,</span><br><span class="line">      cwd: mockCwd,</span><br><span class="line">      platform: <span class="string">'win32'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> defaults = defaultTransforms(),</span><br><span class="line">    out = &#123;</span><br><span class="line">      appName: <span class="string">'something'</span>,</span><br><span class="line">      userName: <span class="string">'Jesse_Harlin'</span>,</span><br><span class="line">      authorName: <span class="string">''</span>,</span><br><span class="line">      authorEmail: <span class="string">''</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  expect(defaults)</span><br><span class="line">    .to</span><br><span class="line">    .eql(out);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>  So if there’s a .<code>gitconfig</code>, I expect it to be parsed and there will be some nice, shiny defaults - and if not? there wont. Now we can implement the code that will make these pass.. the act of actually parsing the file.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  iniparser = <span class="built_in">require</span>(<span class="string">'iniparser'</span>);</span><br><span class="line"></span><br><span class="line">  user = fs.existsSync(configFile) ?</span><br><span class="line">    iniparser.parseSync(configFile).user :</span><br><span class="line">    &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//and in the return object...</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    appName: workingDirName,</span><br><span class="line">    userName: osUserName || formatName(user.name || <span class="string">''</span>),</span><br><span class="line">    authorName: user.name || <span class="string">''</span>, <span class="comment">//&lt;=== these are covereed now</span></span><br><span class="line">    authorEmail: user.email || <span class="string">''</span> <span class="comment">//&lt;===</span></span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<p>When you’re all done your answers file will be something like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>),</span><br><span class="line">  iniparser = <span class="built_in">require</span>(<span class="string">'iniparser'</span>),</span><br><span class="line">  fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeDefaults</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> workingDirName = path.basename(process.cwd()),</span><br><span class="line">    homeDir,</span><br><span class="line">    osUserName,</span><br><span class="line">    configFile,</span><br><span class="line">    user = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (process.platform === <span class="string">'win32'</span>) &#123;</span><br><span class="line">    homeDir = process.env.USERPROFILE || <span class="string">''</span>;</span><br><span class="line">    osUserName = process.env.USERNAME || path.basename(homeDir);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    homeDir = process.env.HOME || process.env.HOMEPATH || <span class="string">''</span>;</span><br><span class="line">    osUserName = homeDir &amp;&amp; homeDir.split(<span class="string">'/'</span>).pop() || <span class="string">'root'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  configFile = path.join(path.resolve(homeDir), <span class="string">'.gitconfig'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (fs.existsSync(configFile)) &#123;</span><br><span class="line">    user = iniparser.parseSync(configFile).user || &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    appName: workingDirName,</span><br><span class="line">    userName: osUserName || <span class="string">''</span>,</span><br><span class="line">    authorName: user.name || <span class="string">''</span>,</span><br><span class="line">    authorEmail: user.email || <span class="string">''</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = makeDefaults;</span><br></pre></td></tr></table></figure>
<p>If we find, for our default tasks, as we need more properties, we can add them, and make sure the right default answers object is being asserted against in our tests.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://simiansblog.com/2015/04/24/Organizing-A-Slush-Generator-Part-2/" data-id="ci9jfqnbb002g804ass4wkse2" class="article-share-link">Share</a>
      
        <a href="http://simiansblog.com/2015/04/24/Organizing-A-Slush-Generator-Part-2/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mocking/">Mocking</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reqire/">Reqire</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Slush/">Slush</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Testing/">Testing</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/05/06/Using-Inquirer-js/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Using Inquirer.js
        
      </div>
    </a>
  
  
    <a href="/2015/04/05/Organizing-A-Slush-Generator-Part-1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Organizing A Slush Generator Part 1 : Structure</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Animation-After-Effects-Scripting/">Animation, After Effects, Scripting</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Audio-Editing/">Audio Editing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Audio-Editing-Digital-Performer-Monitor-Aux-Bus-Insert-Effects/">Audio Editing, Digital Performer, Monitor, Aux, Bus, Insert Effects</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Aux/">Aux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bus/">Bus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Conemu/">Conemu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Console/">Console</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Digital-Performer/">Digital Performer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gulp/">Gulp</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Insert-Effects/">Insert Effects</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/">Javascript</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript-jQuery/">Javascript, jQuery</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mocking/">Mocking</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Monitor/">Monitor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OKCjs-Usergroup-Video-Compositing-Chiptunes-Animation-Javascript-Community/">OKCjs, Usergroup, Video Compositing, Chiptunes, Animation, Javascript, Community</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Oklahoma-City-Javascript-Community-Goldfire-Studios-Html5-Javascript-OKCjs-James-Simpson-Luke-Simpkins-Casino-RPG/">Oklahoma City Javascript, Community, Goldfire Studios, Html5, Javascript, OKCjs, James Simpson, Luke Simpkins, Casino RPG</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Orchard-CMS-Orchard-CMS-Tutorial/">Orchard CMS, Orchard CMS Tutorial</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Orchard-Live-Writer-Editor-Posting-Live-Writer-Plugins-Xml-Rpc-Remote-Content-Publishing/">Orchard, Live Writer, Editor, Posting, Live Writer Plugins, Xml-Rpc, Remote Content Publishing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reqire/">Reqire</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Slush/">Slush</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Slush-js/">Slush.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Task-Runners/">Task Runners</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Testing/">Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tools/">Tools</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Yeoman/">Yeoman</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular/">angular</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/commnad-line/">commnad line</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/community/">community</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/game-development/">game development</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/generator/">generator</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gulp/">gulp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inquirer-js/">inquirer.js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/okcjs/">okcjs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phaser/">phaser</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/project-organization/">project organization</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/public-spaking/">public spaking</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scaffolding/">scaffolding</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slush/">slush</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slush-javascript-TDD-testing-scaffolding-generator/">slush, javascript, TDD, testing, scaffolding, generator</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Animation-After-Effects-Scripting/" style="font-size: 10px;">Animation, After Effects, Scripting</a><a href="/tags/Audio-Editing/" style="font-size: 10px;">Audio Editing</a><a href="/tags/Audio-Editing-Digital-Performer-Monitor-Aux-Bus-Insert-Effects/" style="font-size: 10px;">Audio Editing, Digital Performer, Monitor, Aux, Bus, Insert Effects</a><a href="/tags/Aux/" style="font-size: 10px;">Aux</a><a href="/tags/Bus/" style="font-size: 10px;">Bus</a><a href="/tags/Conemu/" style="font-size: 10px;">Conemu</a><a href="/tags/Console/" style="font-size: 10px;">Console</a><a href="/tags/Digital-Performer/" style="font-size: 10px;">Digital Performer</a><a href="/tags/Gulp/" style="font-size: 15px;">Gulp</a><a href="/tags/Insert-Effects/" style="font-size: 10px;">Insert Effects</a><a href="/tags/Javascript/" style="font-size: 15px;">Javascript</a><a href="/tags/Javascript-jQuery/" style="font-size: 10px;">Javascript, jQuery</a><a href="/tags/Mocking/" style="font-size: 10px;">Mocking</a><a href="/tags/Monitor/" style="font-size: 10px;">Monitor</a><a href="/tags/OKCjs-Usergroup-Video-Compositing-Chiptunes-Animation-Javascript-Community/" style="font-size: 10px;">OKCjs, Usergroup, Video Compositing, Chiptunes, Animation, Javascript, Community</a><a href="/tags/Oklahoma-City-Javascript-Community-Goldfire-Studios-Html5-Javascript-OKCjs-James-Simpson-Luke-Simpkins-Casino-RPG/" style="font-size: 10px;">Oklahoma City Javascript, Community, Goldfire Studios, Html5, Javascript, OKCjs, James Simpson, Luke Simpkins, Casino RPG</a><a href="/tags/Orchard-CMS-Orchard-CMS-Tutorial/" style="font-size: 15px;">Orchard CMS, Orchard CMS Tutorial</a><a href="/tags/Orchard-Live-Writer-Editor-Posting-Live-Writer-Plugins-Xml-Rpc-Remote-Content-Publishing/" style="font-size: 10px;">Orchard, Live Writer, Editor, Posting, Live Writer Plugins, Xml-Rpc, Remote Content Publishing</a><a href="/tags/Reqire/" style="font-size: 10px;">Reqire</a><a href="/tags/Slush/" style="font-size: 10px;">Slush</a><a href="/tags/Slush-js/" style="font-size: 10px;">Slush.js</a><a href="/tags/Task-Runners/" style="font-size: 15px;">Task Runners</a><a href="/tags/Testing/" style="font-size: 10px;">Testing</a><a href="/tags/Tools/" style="font-size: 10px;">Tools</a><a href="/tags/Yeoman/" style="font-size: 10px;">Yeoman</a><a href="/tags/angular/" style="font-size: 10px;">angular</a><a href="/tags/commnad-line/" style="font-size: 10px;">commnad line</a><a href="/tags/community/" style="font-size: 10px;">community</a><a href="/tags/game-development/" style="font-size: 10px;">game development</a><a href="/tags/generator/" style="font-size: 10px;">generator</a><a href="/tags/gulp/" style="font-size: 10px;">gulp</a><a href="/tags/inquirer-js/" style="font-size: 10px;">inquirer.js</a><a href="/tags/javascript/" style="font-size: 20px;">javascript</a><a href="/tags/node/" style="font-size: 10px;">node</a><a href="/tags/okcjs/" style="font-size: 10px;">okcjs</a><a href="/tags/phaser/" style="font-size: 10px;">phaser</a><a href="/tags/project-organization/" style="font-size: 10px;">project organization</a><a href="/tags/public-spaking/" style="font-size: 10px;">public spaking</a><a href="/tags/react/" style="font-size: 10px;">react</a><a href="/tags/scaffolding/" style="font-size: 15px;">scaffolding</a><a href="/tags/slush/" style="font-size: 15px;">slush</a><a href="/tags/slush-javascript-TDD-testing-scaffolding-generator/" style="font-size: 10px;">slush, javascript, TDD, testing, scaffolding, generator</a><a href="/tags/webpack/" style="font-size: 10px;">webpack</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">March 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">February 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/05/06/Using-Inquirer-js/">Using Inquirer.js</a>
          </li>
        
          <li>
            <a href="/2015/04/24/Organizing-A-Slush-Generator-Part-2/">Organizing A Slush Generator Part 2 : Testing And creating Default Answers</a>
          </li>
        
          <li>
            <a href="/2015/04/05/Organizing-A-Slush-Generator-Part-1/">Organizing A Slush Generator Part 1 : Structure</a>
          </li>
        
          <li>
            <a href="/2015/04/04/testing-a-slush-generator/">Testing a Slush Generator</a>
          </li>
        
          <li>
            <a href="/2015/03/29/lets-make-a-basic-slush-generator/">Lets Make a Basic Slush Generator: Part I</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
    
  
    
  <div class="outer">
      
      <div id="footer-info" class="inner"> 
          &copy; 2015 Jesse Harlin<br>
    </div>
      
  </div>
    
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script type="text/javascript">
  var disqus_shortname = 'simiansblog';
  (function () {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        
        var head = document.getElementsByTagName('head')[0],
            body = document.getElementsByTagName('body')[0];
      
    ( head || body ).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>